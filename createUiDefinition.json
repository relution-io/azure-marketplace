{
	"handler": "Microsoft.Compute.MultiVm",
	"version": "0.0.1-preview",
	"parameters": {
		"basics": [{
			"name": "serverUsername",
			"type": "Microsoft.Compute.UserNameTextBox",
			"label": "User name",
			"toolTip": "Admin username for the virtual machines.",
			"constraints": {
				"required": true
			},
			"osPlatform": "Linux",
			"visible": true
		}, {
			"name": "serverPassword",
			"type": "Microsoft.Common.PasswordBox",
			"label": {
				"password": "Password",
				"confirmPassword": "Confirm password"
			},
			"toolTip": "Admin password for the virtual machines.",
			"constraints": {
				"required": true,
				"regex": "(?=^.{8,255}$)((?=.*\\d)(?=.*[A-Z])(?=.*[a-z])|(?=.*\\d)(?=.*[^A-Za-z0-9])(?=.*[a-z])|(?=.*[^A-Za-z0-9])(?=.*[A-Z])(?=.*[a-z])|(?=.*\\d)(?=.*[A-Z])(?=.*[^A-Za-z0-9]))^.*",
				"validationMessage": "Chosse a complex password with lowercase, uppercase characters, numbers and symbols. The value must be 12-60 characters long."
			},
			"options": {
				"hideConfirmation": false
			},
			"visible": true
		}, {
			"name": "serverPassword",
			"type": "Microsoft.Compute.PasswordBox",
			"label": {
				"password": "Password",
				"confirmPassword": "Confirm password"
			},
			"toolTip": {
				"password": "Admin password for the virtual machines."
			},
			"constraints": {
				"required": true
			},
			"options": {
				"hideConfirmation": false,
				"hidePassword": false
			},
			"osPlatform": "Linux",
			"visible": true
		}],
		"steps": [{
			"name": "relutionAdmin",
			"label": "Relution Account",
			"subLabel": {
				"preValidation": "Configuration",
				"postValidation": "Done"
			},
			"bladeTitle": "Relution Admin",
			"elements": [{
				"name": "adminUsername",
				"type": "Microsoft.Common.TextBox",
				"label": "User name",
				"defaultValue": "admin",
				"toolTip": "Username for the Relution admin account.",
				"constraints": {
					"required": true,
					"regex": "^[a-z0-9A-Z]{1,30}$",
					"validationMessage": "Only alphanumeric characters are allowed, and the value must be 1-30 characters long."
				},
				"visible": true
			}, {
				"name": "adminPassword",
				"type": "Microsoft.Common.PasswordBox",
				"label": {
					"password": "Password",
					"confirmPassword": "Confirm password"
				},
				"toolTip": "Password for the Relution admin account.",
				"constraints": {
					"required": true,
					"regex": "^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$",
					"validationMessage": "Minimum 8 characters at least 1 Uppercase Alphabet, 1 Lowercase Alphabet and 1 Number are required."
				},
				"options": {
					"hideConfirmation": false
				},
				"visible": true
			}, {
				"name": "adminGivenname",
				"type": "Microsoft.Common.TextBox",
				"label": "First name",
				"defaultValue": "",
				"toolTip": "Given name for the relution admin account.",
				"constraints": {
					"required": true
				},
				"visible": true
			}, {
				"name": "adminSurname",
				"type": "Microsoft.Common.TextBox",
				"label": "Last name",
				"defaultValue": "",
				"toolTip": "Last name for the relution admin account.",
				"constraints": {
					"required": true
				},
				"visible": true
			}, {
				"name": "adminEmail",
				"type": "Microsoft.Common.TextBox",
				"label": "E-Mail",
				"defaultValue": "",
				"toolTip": "E-Mail address for the relution admin account.",
				"constraints": {
					"required": true
				},
				"visible": true
			}]
		}],
		"outputs": {
            "location": "[location()]",
			"serverUsername": "[basics('serverUsername')]",
			"serverPassword": "[basics('serverPassword')]",
			"adminUsername": "[steps('relutionAdmin').adminUsername]",
			"adminPassword": "[steps('relutionAdmin').adminPassword]",
			"adminGivenname": "[steps('relutionAdmin').adminGivenname]",
			"adminSurname": "[steps('relutionAdmin').adminSurname]",
			"adminEmail": "[steps('relutionAdmin').adminEmail]"
		}
	}
}